<html>

  <head>
    <title>Our awesome game</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser.min.js"></script>
  </head>

  <body>
      <h1>Game title</h1>
      <h2>H2 title</h2>

      <script>
        //configure the game(hight, width, render-type, game loop)
        var cursors;
        var knight;
        var crates;
        var config ={
          width: 800,
          height: 500,
          type:Phaser.AUTO,
          scene:{
            preload: gamePreload,
            create: gameCreate,
            update: gameUpdate
          },

          physics:{
            default:"arcade",
            arcade:{
              gravity:{y:300},
              debug:false
            }
          }
        }

        function gamePreload(){
          // loading assets
          console.log("game is loading assets");
          this.load.image("knight","assets/knight.png");
          this.load.image("crate","assets/crate.png");
          this.load.image("background","assets/background.png");

          //for(i=10; i > 0; i–){
            //this.load.image(“run_frame_”+i, “assets/knight/run/Run (”+i+").png");
          //}
        }

        function gameCreate(){
          // initial setup logic on the asset and othere setup
          console.log("game is setting up the assets etc");
          // create background
          this.add.image(300,150, "background");
          // create the knight
          knight = this.physics.add.sprite(200,100,"knight");
          knight.body.setSize(200,600,10,0);
          knight.scaleX = 0.15;
          knight.scaleY = knight.scaleX;

          // create the crates
          crates = this.physics.add.staticGroup();
          //floor
          crates.create(40,460,"crate");
          crates.create(120,460,"crate");
          crates.create(200,460,"crate");
          crates.create(280,460,"crate");
          crates.create(360,460,"crate");
          crates.create(440,460,"crate");

          //crate in the air
          crates.create(440,360,"crate");
          crates.create(440,460,"crate");
          crates.create(280,260,"crate");

          this.physics.add.collider(crates, knight);
          cursors =this.input.keyboard.createCursorkeys();
        }

        function gameUpdate(){
          // monitoring input and telling game how to update
          //console.log("game is updating");
          if(cursors.left.isDown){
            knight.setVelocityX(-100);
          }
          else if(cursors.right.isDown){
            knight.setVelocityX(100);
          }
          else{
            knight.setVelocityX(0);
          }
         }


        var game = new Phaser.Game(config);
      </script>


  </body>


</html>
